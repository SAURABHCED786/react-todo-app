{"ast":null,"code":"import React, { useState, useReducer, useRef, useEffect, useCallback, Children } from 'react';\nimport { EnableSelectionMinor } from '@shopify/polaris-icons';\nimport { toPx, tokens } from '@shopify/polaris-tokens';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames } from '../../utilities/css.js';\nimport { isElementOfType } from '../../utilities/components.js';\nimport { useLazyRef } from '../../utilities/use-lazy-ref.js';\nimport styles from './ResourceList.scss.js';\nimport { Select } from '../Select/Select.js';\nimport { ResourceItem } from '../ResourceItem/ResourceItem.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useIsBulkActionsSticky } from '../BulkActions/hooks/use-is-bulk-actions-sticky.js';\nimport { SelectAllActions } from '../SelectAllActions/SelectAllActions.js';\nimport { Button } from '../Button/Button.js';\nimport { CheckableButton } from '../CheckableButton/CheckableButton.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { EmptySearchResult } from '../EmptySearchResult/EmptySearchResult.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { EventListener } from '../EventListener/EventListener.js';\nimport { BulkActions } from '../BulkActions/BulkActions.js';\nconst SMALL_SPINNER_HEIGHT = 28;\nconst LARGE_SPINNER_HEIGHT = 45;\nfunction getAllItemsOnPage(items, idForItem) {\n  return items.map((item, index) => {\n    return idForItem(item, index);\n  });\n}\nconst isBreakpointsXS = () => {\n  var _toPx;\n  return typeof window === 'undefined' ? false : window.innerWidth < parseFloat((_toPx = toPx(tokens.breakpoints['breakpoints-sm'])) !== null && _toPx !== void 0 ? _toPx : '');\n};\nfunction defaultIdForItem(item, index) {\n  return Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index.toString();\n}\nconst ResourceList = function ResourceList(_ref) {\n  let {\n    items,\n    filterControl,\n    emptyState,\n    emptySearchState,\n    resourceName: resourceNameProp,\n    promotedBulkActions,\n    bulkActions,\n    selectedItems = [],\n    isFiltered,\n    selectable,\n    hasMoreItems,\n    loading,\n    showHeader,\n    totalItemsCount,\n    sortValue,\n    sortOptions,\n    alternateTool,\n    onSortChange,\n    onSelectionChange,\n    renderItem,\n    idForItem = defaultIdForItem,\n    resolveItemId\n  } = _ref;\n  const i18n = useI18n();\n  const [selectMode, setSelectMode] = useState(Boolean(selectedItems && selectedItems.length > 0));\n  const [loadingPosition, setLoadingPositionState] = useState(0);\n  const [lastSelected, setLastSelected] = useState();\n  const [smallScreen, setSmallScreen] = useState(isBreakpointsXS());\n  const forceUpdate = useReducer(function () {\n    let x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return x + 1;\n  }, 0)[1];\n  const checkableButtonRef = useRef(null);\n  const {\n    bulkActionsIntersectionRef,\n    tableMeasurerRef,\n    isBulkActionsSticky,\n    bulkActionsAbsoluteOffset,\n    bulkActionsMaxWidth,\n    bulkActionsOffsetLeft,\n    computeTableDimensions\n  } = useIsBulkActionsSticky(selectMode);\n  useEffect(() => {\n    computeTableDimensions();\n  }, [computeTableDimensions, items.length]);\n  const defaultResourceName = useLazyRef(() => ({\n    singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n    plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n  }));\n  const listRef = useRef(null);\n  const handleSelectMode = selectMode => {\n    setSelectMode(selectMode);\n    if (!selectMode && onSelectionChange) {\n      onSelectionChange([]);\n    }\n  };\n  const handleResize = debounce(() => {\n    const newSmallScreen = isBreakpointsXS();\n    if (selectedItems && selectedItems.length === 0 && selectMode && !newSmallScreen) {\n      handleSelectMode(false);\n    }\n    if (smallScreen !== newSmallScreen) {\n      setSmallScreen(newSmallScreen);\n    }\n  }, 50, {\n    leading: true,\n    trailing: true,\n    maxWait: 50\n  });\n  const isSelectable = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0 || selectable) && !smallScreen;\n  const selectAllSelectState = () => {\n    let selectState = 'indeterminate';\n    if (!selectedItems || Array.isArray(selectedItems) && selectedItems.length === 0) {\n      selectState = false;\n    } else if (selectedItems === SELECT_ALL_ITEMS || Array.isArray(selectedItems) && selectedItems.length === items.length) {\n      selectState = true;\n    }\n    return selectState;\n  };\n  const resourceName = resourceNameProp ? resourceNameProp : defaultResourceName.current;\n  const headerTitle = () => {\n    const itemsCount = items.length;\n    const resource = !loading && (!totalItemsCount && itemsCount === 1 || totalItemsCount === 1) ? resourceName.singular : resourceName.plural;\n    if (loading) {\n      return i18n.translate('Polaris.ResourceList.loading', {\n        resource\n      });\n    } else if (totalItemsCount) {\n      return i18n.translate('Polaris.ResourceList.showingTotalCount', {\n        itemsCount,\n        totalItemsCount,\n        resource\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.showing', {\n        itemsCount,\n        resource\n      });\n    }\n  };\n  const selectAllActionsLabel = () => {\n    const selectedItemsCount = selectedItems === SELECT_ALL_ITEMS ? `${items.length}+` : selectedItems.length;\n    return i18n.translate('Polaris.ResourceList.selected', {\n      selectedItemsCount\n    });\n  };\n  const selectAllActionsAccessibilityLabel = () => {\n    const selectedItemsCount = selectedItems.length;\n    const totalItemsCount = items.length;\n    const allSelected = selectedItemsCount === totalItemsCount;\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n  const paginatedSelectAllText = () => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n    if (selectedItems === SELECT_ALL_ITEMS) {\n      return i18n.translate(isFiltered ? 'Polaris.ResourceList.allFilteredItemsSelected' : 'Polaris.ResourceList.allItemsSelected', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n  const paginatedSelectAllAction = () => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n    const actionText = selectedItems === SELECT_ALL_ITEMS ? i18n.translate('Polaris.Common.undo') : i18n.translate(isFiltered ? 'Polaris.ResourceList.selectAllFilteredItems' : 'Polaris.ResourceList.selectAllItems', {\n      itemsLength: items.length,\n      resourceNamePlural: resourceName.plural\n    });\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  };\n  const emptySearchResultText = {\n    title: i18n.translate('Polaris.ResourceList.emptySearchResultTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.ResourceList.emptySearchResultDescription')\n  };\n  const handleSelectAllItemsInStore = () => {\n    const newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : SELECT_ALL_ITEMS;\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n  const setLoadingPosition = useCallback(() => {\n    if (listRef.current != null) {\n      if (typeof window === 'undefined') {\n        return;\n      }\n      const overlay = listRef.current.getBoundingClientRect();\n      const viewportHeight = Math.max(document.documentElement ? document.documentElement.clientHeight : 0, window.innerHeight || 0);\n      const overflow = viewportHeight - overlay.height;\n      const spinnerHeight = items.length === 1 ? SMALL_SPINNER_HEIGHT : LARGE_SPINNER_HEIGHT;\n      const spinnerPosition = overflow > 0 ? (overlay.height - spinnerHeight) / 2 : (viewportHeight - overlay.top - spinnerHeight) / 2;\n      setLoadingPositionState(spinnerPosition);\n    }\n  }, [listRef, items.length]);\n  const itemsExist = items.length > 0;\n  useEffect(() => {\n    if (loading) {\n      setLoadingPosition();\n    }\n  }, [loading, setLoadingPosition]);\n  useEffect(() => {\n    if (selectedItems && selectedItems.length > 0 && !selectMode) {\n      setSelectMode(true);\n    }\n    if ((!selectedItems || selectedItems.length === 0) && !isBreakpointsXS()) {\n      setSelectMode(false);\n    }\n  }, [selectedItems, selectMode]);\n  useEffect(() => {\n    forceUpdate();\n  }, [forceUpdate, items]);\n  const renderItemWithId = (item, index) => {\n    const id = idForItem(item, index);\n    const itemContent = renderItem(item, id, index);\n    if (process.env.NODE_ENV === 'development' && !isElementOfType(itemContent, ResourceItem)) {\n      // eslint-disable-next-line no-console\n      console.warn('<ResourceList /> renderItem function should return a <ResourceItem />.');\n    }\n    return itemContent;\n  };\n  const handleMultiSelectionChange = (lastSelected, currentSelected, resolveItemId) => {\n    const min = Math.min(lastSelected, currentSelected);\n    const max = Math.max(lastSelected, currentSelected);\n    return items.slice(min, max + 1).map(resolveItemId);\n  };\n  const handleSelectionChange = (selected, id, sortOrder, shiftKey) => {\n    if (selectedItems == null || onSelectionChange == null) {\n      return;\n    }\n    let newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : [...selectedItems];\n    if (sortOrder !== undefined) {\n      setLastSelected(sortOrder);\n    }\n    const lastSelectedFromState = lastSelected;\n    let selectedIds = [id];\n    if (shiftKey && lastSelectedFromState != null && sortOrder !== undefined && resolveItemId) {\n      selectedIds = handleMultiSelectionChange(lastSelectedFromState, sortOrder, resolveItemId);\n    }\n    newlySelectedItems = [...new Set([...newlySelectedItems, ...selectedIds])];\n    if (!selected) {\n      for (const selectedId of selectedIds) {\n        newlySelectedItems.splice(newlySelectedItems.indexOf(selectedId), 1);\n      }\n    }\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n  const handleToggleAll = () => {\n    let newlySelectedItems;\n    if (Array.isArray(selectedItems) && selectedItems.length === items.length || selectedItems === SELECT_ALL_ITEMS) {\n      newlySelectedItems = [];\n    } else {\n      newlySelectedItems = items.map((item, index) => {\n        return idForItem(item, index);\n      });\n    }\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    } // setTimeout ensures execution after the Transition on BulkActions\n\n    setTimeout(() => {\n      var _checkableButtonRef$c;\n      checkableButtonRef === null || checkableButtonRef === void 0 ? void 0 : (_checkableButtonRef$c = checkableButtonRef.current) === null || _checkableButtonRef$c === void 0 ? void 0 : _checkableButtonRef$c.focus();\n    }, 0);\n  };\n  const selectAllActionsMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SelectAllActionsWrapper\n  }, /*#__PURE__*/React.createElement(SelectAllActions, {\n    label: selectAllActionsLabel(),\n    accessibilityLabel: selectAllActionsAccessibilityLabel(),\n    selected: selectAllSelectState(),\n    onToggleAll: handleToggleAll,\n    selectMode: selectMode,\n    paginatedSelectAllAction: paginatedSelectAllAction(),\n    paginatedSelectAllText: paginatedSelectAllText(),\n    disabled: loading,\n    ref: checkableButtonRef\n  })) : null;\n  const bulkActionClassNames = classNames(styles.BulkActionsWrapper, isBulkActionsSticky && styles.BulkActionsWrapperSticky);\n  const bulkActionsMarkup = isSelectable && selectMode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: bulkActionClassNames,\n    style: {\n      top: isBulkActionsSticky ? undefined : bulkActionsAbsoluteOffset,\n      width: bulkActionsMaxWidth,\n      left: isBulkActionsSticky ? bulkActionsOffsetLeft : undefined\n    }\n  }, /*#__PURE__*/React.createElement(BulkActions, {\n    selectMode: selectMode,\n    onSelectModeToggle: handleSelectMode,\n    promotedActions: promotedBulkActions,\n    actions: bulkActions,\n    disabled: loading,\n    isSticky: isBulkActionsSticky,\n    width: bulkActionsMaxWidth\n  })) : null;\n  const filterControlMarkup = filterControl ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.FiltersWrapper\n  }, filterControl) : null;\n  const sortingSelectMarkup = sortOptions && sortOptions.length > 0 && !alternateTool ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SortWrapper\n  }, /*#__PURE__*/React.createElement(Select, {\n    label: i18n.translate('Polaris.ResourceList.sortingLabel'),\n    labelInline: !smallScreen,\n    labelHidden: smallScreen,\n    options: sortOptions,\n    onChange: onSortChange,\n    value: sortValue,\n    disabled: selectMode\n  })) : null;\n  const alternateToolMarkup = alternateTool && !sortingSelectMarkup ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.AlternateToolWrapper\n  }, alternateTool) : null;\n  const headerTitleMarkup = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderTitleWrapper\n  }, headerTitle());\n  const selectButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SelectButtonWrapper\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: selectMode,\n    icon: EnableSelectionMinor,\n    onClick: () => handleSelectMode(true)\n  }, i18n.translate('Polaris.ResourceList.selectButtonText'))) : null;\n  const checkableButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.CheckableButtonWrapper\n  }, /*#__PURE__*/React.createElement(CheckableButton, {\n    accessibilityLabel: selectAllActionsAccessibilityLabel(),\n    label: headerTitle(),\n    onToggleAll: handleToggleAll,\n    disabled: loading,\n    ref: checkableButtonRef\n  })) : null;\n  const needsHeader = isSelectable || sortOptions && sortOptions.length > 0 || alternateTool;\n  const headerWrapperOverlay = loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['HeaderWrapper-overlay']\n  }) : null;\n  const showEmptyState = emptyState && !itemsExist && !loading;\n  const showEmptySearchState = !showEmptyState && filterControl && !itemsExist && !loading;\n  const headerMarkup = !showEmptyState && showHeader !== false && !showEmptySearchState && (showHeader || needsHeader) && listRef.current && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderOuterWrapper\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    boundingElement: listRef.current\n  }, isSticky => {\n    const headerClassName = classNames(styles.HeaderWrapper, sortOptions && sortOptions.length > 0 && !alternateTool && styles['HeaderWrapper-hasSort'], alternateTool && styles['HeaderWrapper-hasAlternateTool'], isSelectable && styles['HeaderWrapper-hasSelect'], loading && styles['HeaderWrapper-disabled'], isSelectable && selectMode && styles['HeaderWrapper-inSelectMode'], isSticky && styles['HeaderWrapper-isSticky']);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: headerClassName\n    }, headerWrapperOverlay, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.HeaderContentWrapper\n    }, headerTitleMarkup, checkableButtonMarkup, alternateToolMarkup, sortingSelectMarkup, selectButtonMarkup), selectAllActionsMarkup);\n  }), bulkActionsMarkup);\n  const emptySearchStateMarkup = showEmptySearchState ? emptySearchState || /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, /*#__PURE__*/React.createElement(EmptySearchResult, Object.assign({}, emptySearchResultText, {\n    withIllustration: true\n  }))) : null;\n  const emptyStateMarkup = showEmptyState ? emptyState : null;\n  const defaultTopPadding = 8;\n  const topPadding = loadingPosition > 0 ? loadingPosition : defaultTopPadding;\n  const spinnerStyle = {\n    paddingTop: `${topPadding}px`\n  };\n  const spinnerSize = items.length < 2 ? 'small' : 'large';\n  const loadingOverlay = loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.SpinnerContainer,\n    style: spinnerStyle\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: spinnerSize,\n    accessibilityLabel: \"Items are loading\"\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.LoadingOverlay\n  })) : null;\n  const className = classNames(styles.ItemWrapper, loading && styles['ItemWrapper-isLoading']);\n  const loadingWithoutItemsMarkup = loading && !itemsExist ? /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    tabIndex: -1\n  }, loadingOverlay) : null;\n  const resourceListClassName = classNames(styles.ResourceList, loading && styles.disabledPointerEvents, selectMode && styles.disableTextSelection);\n  const listMarkup = itemsExist ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: resourceListClassName,\n    ref: listRef,\n    \"aria-live\": \"polite\",\n    \"aria-busy\": loading\n  }, loadingOverlay, Children.toArray(items.map(renderItemWithId))) : null; // This is probably a legit error but I don't have the time to refactor this\n  // eslint-disable-next-line react/jsx-no-constructed-context-values\n\n  const context = {\n    selectable: isSelectable,\n    selectedItems,\n    selectMode,\n    resourceName,\n    loading,\n    onSelectionChange: handleSelectionChange\n  };\n  const resourceListWrapperClasses = classNames(styles.ResourceListWrapper, Boolean(bulkActionsMarkup) && selectMode && styles.ResourceListWrapperWithBulkActions);\n  return /*#__PURE__*/React.createElement(ResourceListContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: handleResize\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: resourceListWrapperClasses,\n    ref: tableMeasurerRef\n  }, filterControlMarkup, headerMarkup, listMarkup, emptySearchStateMarkup, emptyStateMarkup, loadingWithoutItemsMarkup), /*#__PURE__*/React.createElement(\"div\", {\n    ref: bulkActionsIntersectionRef\n  }));\n};\nResourceList.Item = ResourceItem;\nexport { ResourceList };","map":{"version":3,"names":["React","useState","useReducer","useRef","useEffect","useCallback","Children","EnableSelectionMinor","toPx","tokens","debounce","classNames","isElementOfType","useLazyRef","styles","Select","ResourceItem","SELECT_ALL_ITEMS","useI18n","useIsBulkActionsSticky","SelectAllActions","Button","CheckableButton","Sticky","EmptySearchResult","Spinner","ResourceListContext","EventListener","BulkActions","SMALL_SPINNER_HEIGHT","LARGE_SPINNER_HEIGHT","getAllItemsOnPage","items","idForItem","map","item","index","isBreakpointsXS","_toPx","window","innerWidth","parseFloat","breakpoints","defaultIdForItem","Object","prototype","hasOwnProperty","call","id","toString","ResourceList","filterControl","emptyState","emptySearchState","resourceName","resourceNameProp","promotedBulkActions","bulkActions","selectedItems","isFiltered","selectable","hasMoreItems","loading","showHeader","totalItemsCount","sortValue","sortOptions","alternateTool","onSortChange","onSelectionChange","renderItem","resolveItemId","i18n","selectMode","setSelectMode","Boolean","length","loadingPosition","setLoadingPositionState","lastSelected","setLastSelected","smallScreen","setSmallScreen","forceUpdate","x","checkableButtonRef","bulkActionsIntersectionRef","tableMeasurerRef","isBulkActionsSticky","bulkActionsAbsoluteOffset","bulkActionsMaxWidth","bulkActionsOffsetLeft","computeTableDimensions","defaultResourceName","singular","translate","plural","listRef","handleSelectMode","handleResize","newSmallScreen","leading","trailing","maxWait","isSelectable","selectAllSelectState","selectState","Array","isArray","current","headerTitle","itemsCount","resource","selectAllActionsLabel","selectedItemsCount","selectAllActionsAccessibilityLabel","allSelected","resourceNameSingular","itemsLength","resourceNamePlural","paginatedSelectAllText","paginatedSelectAllAction","actionText","content","onAction","handleSelectAllItemsInStore","emptySearchResultText","title","description","newlySelectedItems","setLoadingPosition","overlay","getBoundingClientRect","viewportHeight","Math","max","document","documentElement","clientHeight","innerHeight","overflow","height","spinnerHeight","spinnerPosition","top","itemsExist","renderItemWithId","itemContent","process","env","NODE_ENV","console","warn","handleMultiSelectionChange","currentSelected","min","slice","handleSelectionChange","selected","sortOrder","shiftKey","undefined","lastSelectedFromState","selectedIds","Set","selectedId","splice","indexOf","handleToggleAll","setTimeout","_checkableButtonRef$c","focus","selectAllActionsMarkup","createElement","className","SelectAllActionsWrapper","label","accessibilityLabel","onToggleAll","disabled","ref","bulkActionClassNames","BulkActionsWrapper","BulkActionsWrapperSticky","bulkActionsMarkup","style","width","left","onSelectModeToggle","promotedActions","actions","isSticky","filterControlMarkup","FiltersWrapper","sortingSelectMarkup","SortWrapper","labelInline","labelHidden","options","onChange","value","alternateToolMarkup","AlternateToolWrapper","headerTitleMarkup","HeaderTitleWrapper","selectButtonMarkup","SelectButtonWrapper","icon","onClick","checkableButtonMarkup","CheckableButtonWrapper","needsHeader","headerWrapperOverlay","showEmptyState","showEmptySearchState","headerMarkup","HeaderOuterWrapper","boundingElement","headerClassName","HeaderWrapper","HeaderContentWrapper","emptySearchStateMarkup","EmptySearchResultWrapper","assign","withIllustration","emptyStateMarkup","defaultTopPadding","topPadding","spinnerStyle","paddingTop","spinnerSize","loadingOverlay","Fragment","SpinnerContainer","size","LoadingOverlay","ItemWrapper","loadingWithoutItemsMarkup","tabIndex","resourceListClassName","disabledPointerEvents","disableTextSelection","listMarkup","toArray","context","resourceListWrapperClasses","ResourceListWrapper","ResourceListWrapperWithBulkActions","Provider","event","handler","Item"],"sources":["/home/cedcoss/Desktop/react_training/react-tricks/react-todo-app/node_modules/@shopify/polaris/build/esm/components/ResourceList/ResourceList.js"],"sourcesContent":["import React, { useState, useReducer, useRef, useEffect, useCallback, Children } from 'react';\nimport { EnableSelectionMinor } from '@shopify/polaris-icons';\nimport { toPx, tokens } from '@shopify/polaris-tokens';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames } from '../../utilities/css.js';\nimport { isElementOfType } from '../../utilities/components.js';\nimport { useLazyRef } from '../../utilities/use-lazy-ref.js';\nimport styles from './ResourceList.scss.js';\nimport { Select } from '../Select/Select.js';\nimport { ResourceItem } from '../ResourceItem/ResourceItem.js';\nimport { SELECT_ALL_ITEMS } from '../../utilities/resource-list/types.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useIsBulkActionsSticky } from '../BulkActions/hooks/use-is-bulk-actions-sticky.js';\nimport { SelectAllActions } from '../SelectAllActions/SelectAllActions.js';\nimport { Button } from '../Button/Button.js';\nimport { CheckableButton } from '../CheckableButton/CheckableButton.js';\nimport { Sticky } from '../Sticky/Sticky.js';\nimport { EmptySearchResult } from '../EmptySearchResult/EmptySearchResult.js';\nimport { Spinner } from '../Spinner/Spinner.js';\nimport { ResourceListContext } from '../../utilities/resource-list/context.js';\nimport { EventListener } from '../EventListener/EventListener.js';\nimport { BulkActions } from '../BulkActions/BulkActions.js';\n\nconst SMALL_SPINNER_HEIGHT = 28;\nconst LARGE_SPINNER_HEIGHT = 45;\n\nfunction getAllItemsOnPage(items, idForItem) {\n  return items.map((item, index) => {\n    return idForItem(item, index);\n  });\n}\n\nconst isBreakpointsXS = () => {\n  var _toPx;\n\n  return typeof window === 'undefined' ? false : window.innerWidth < parseFloat((_toPx = toPx(tokens.breakpoints['breakpoints-sm'])) !== null && _toPx !== void 0 ? _toPx : '');\n};\n\nfunction defaultIdForItem(item, index) {\n  return Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index.toString();\n}\n\nconst ResourceList = function ResourceList({\n  items,\n  filterControl,\n  emptyState,\n  emptySearchState,\n  resourceName: resourceNameProp,\n  promotedBulkActions,\n  bulkActions,\n  selectedItems = [],\n  isFiltered,\n  selectable,\n  hasMoreItems,\n  loading,\n  showHeader,\n  totalItemsCount,\n  sortValue,\n  sortOptions,\n  alternateTool,\n  onSortChange,\n  onSelectionChange,\n  renderItem,\n  idForItem = defaultIdForItem,\n  resolveItemId\n}) {\n  const i18n = useI18n();\n  const [selectMode, setSelectMode] = useState(Boolean(selectedItems && selectedItems.length > 0));\n  const [loadingPosition, setLoadingPositionState] = useState(0);\n  const [lastSelected, setLastSelected] = useState();\n  const [smallScreen, setSmallScreen] = useState(isBreakpointsXS());\n  const forceUpdate = useReducer((x = 0) => x + 1, 0)[1];\n  const checkableButtonRef = useRef(null);\n  const {\n    bulkActionsIntersectionRef,\n    tableMeasurerRef,\n    isBulkActionsSticky,\n    bulkActionsAbsoluteOffset,\n    bulkActionsMaxWidth,\n    bulkActionsOffsetLeft,\n    computeTableDimensions\n  } = useIsBulkActionsSticky(selectMode);\n  useEffect(() => {\n    computeTableDimensions();\n  }, [computeTableDimensions, items.length]);\n  const defaultResourceName = useLazyRef(() => ({\n    singular: i18n.translate('Polaris.ResourceList.defaultItemSingular'),\n    plural: i18n.translate('Polaris.ResourceList.defaultItemPlural')\n  }));\n  const listRef = useRef(null);\n\n  const handleSelectMode = selectMode => {\n    setSelectMode(selectMode);\n\n    if (!selectMode && onSelectionChange) {\n      onSelectionChange([]);\n    }\n  };\n\n  const handleResize = debounce(() => {\n    const newSmallScreen = isBreakpointsXS();\n\n    if (selectedItems && selectedItems.length === 0 && selectMode && !newSmallScreen) {\n      handleSelectMode(false);\n    }\n\n    if (smallScreen !== newSmallScreen) {\n      setSmallScreen(newSmallScreen);\n    }\n  }, 50, {\n    leading: true,\n    trailing: true,\n    maxWait: 50\n  });\n  const isSelectable = Boolean(promotedBulkActions && promotedBulkActions.length > 0 || bulkActions && bulkActions.length > 0 || selectable) && !smallScreen;\n\n  const selectAllSelectState = () => {\n    let selectState = 'indeterminate';\n\n    if (!selectedItems || Array.isArray(selectedItems) && selectedItems.length === 0) {\n      selectState = false;\n    } else if (selectedItems === SELECT_ALL_ITEMS || Array.isArray(selectedItems) && selectedItems.length === items.length) {\n      selectState = true;\n    }\n\n    return selectState;\n  };\n\n  const resourceName = resourceNameProp ? resourceNameProp : defaultResourceName.current;\n\n  const headerTitle = () => {\n    const itemsCount = items.length;\n    const resource = !loading && (!totalItemsCount && itemsCount === 1 || totalItemsCount === 1) ? resourceName.singular : resourceName.plural;\n\n    if (loading) {\n      return i18n.translate('Polaris.ResourceList.loading', {\n        resource\n      });\n    } else if (totalItemsCount) {\n      return i18n.translate('Polaris.ResourceList.showingTotalCount', {\n        itemsCount,\n        totalItemsCount,\n        resource\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.showing', {\n        itemsCount,\n        resource\n      });\n    }\n  };\n\n  const selectAllActionsLabel = () => {\n    const selectedItemsCount = selectedItems === SELECT_ALL_ITEMS ? `${items.length}+` : selectedItems.length;\n    return i18n.translate('Polaris.ResourceList.selected', {\n      selectedItemsCount\n    });\n  };\n\n  const selectAllActionsAccessibilityLabel = () => {\n    const selectedItemsCount = selectedItems.length;\n    const totalItemsCount = items.length;\n    const allSelected = selectedItemsCount === totalItemsCount;\n\n    if (totalItemsCount === 1 && allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (totalItemsCount === 1) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllSingle', {\n        resourceNameSingular: resourceName.singular\n      });\n    } else if (allSelected) {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxDeselectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    } else {\n      return i18n.translate('Polaris.ResourceList.a11yCheckboxSelectAllMultiple', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n\n  const paginatedSelectAllText = () => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n\n    if (selectedItems === SELECT_ALL_ITEMS) {\n      return i18n.translate(isFiltered ? 'Polaris.ResourceList.allFilteredItemsSelected' : 'Polaris.ResourceList.allItemsSelected', {\n        itemsLength: items.length,\n        resourceNamePlural: resourceName.plural\n      });\n    }\n  };\n\n  const paginatedSelectAllAction = () => {\n    if (!isSelectable || !hasMoreItems) {\n      return;\n    }\n\n    const actionText = selectedItems === SELECT_ALL_ITEMS ? i18n.translate('Polaris.Common.undo') : i18n.translate(isFiltered ? 'Polaris.ResourceList.selectAllFilteredItems' : 'Polaris.ResourceList.selectAllItems', {\n      itemsLength: items.length,\n      resourceNamePlural: resourceName.plural\n    });\n    return {\n      content: actionText,\n      onAction: handleSelectAllItemsInStore\n    };\n  };\n\n  const emptySearchResultText = {\n    title: i18n.translate('Polaris.ResourceList.emptySearchResultTitle', {\n      resourceNamePlural: resourceName.plural\n    }),\n    description: i18n.translate('Polaris.ResourceList.emptySearchResultDescription')\n  };\n\n  const handleSelectAllItemsInStore = () => {\n    const newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : SELECT_ALL_ITEMS;\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n\n  const setLoadingPosition = useCallback(() => {\n    if (listRef.current != null) {\n      if (typeof window === 'undefined') {\n        return;\n      }\n\n      const overlay = listRef.current.getBoundingClientRect();\n      const viewportHeight = Math.max(document.documentElement ? document.documentElement.clientHeight : 0, window.innerHeight || 0);\n      const overflow = viewportHeight - overlay.height;\n      const spinnerHeight = items.length === 1 ? SMALL_SPINNER_HEIGHT : LARGE_SPINNER_HEIGHT;\n      const spinnerPosition = overflow > 0 ? (overlay.height - spinnerHeight) / 2 : (viewportHeight - overlay.top - spinnerHeight) / 2;\n      setLoadingPositionState(spinnerPosition);\n    }\n  }, [listRef, items.length]);\n  const itemsExist = items.length > 0;\n  useEffect(() => {\n    if (loading) {\n      setLoadingPosition();\n    }\n  }, [loading, setLoadingPosition]);\n  useEffect(() => {\n    if (selectedItems && selectedItems.length > 0 && !selectMode) {\n      setSelectMode(true);\n    }\n\n    if ((!selectedItems || selectedItems.length === 0) && !isBreakpointsXS()) {\n      setSelectMode(false);\n    }\n  }, [selectedItems, selectMode]);\n  useEffect(() => {\n    forceUpdate();\n  }, [forceUpdate, items]);\n\n  const renderItemWithId = (item, index) => {\n    const id = idForItem(item, index);\n    const itemContent = renderItem(item, id, index);\n\n    if (process.env.NODE_ENV === 'development' && !isElementOfType(itemContent, ResourceItem)) {\n      // eslint-disable-next-line no-console\n      console.warn('<ResourceList /> renderItem function should return a <ResourceItem />.');\n    }\n\n    return itemContent;\n  };\n\n  const handleMultiSelectionChange = (lastSelected, currentSelected, resolveItemId) => {\n    const min = Math.min(lastSelected, currentSelected);\n    const max = Math.max(lastSelected, currentSelected);\n    return items.slice(min, max + 1).map(resolveItemId);\n  };\n\n  const handleSelectionChange = (selected, id, sortOrder, shiftKey) => {\n    if (selectedItems == null || onSelectionChange == null) {\n      return;\n    }\n\n    let newlySelectedItems = selectedItems === SELECT_ALL_ITEMS ? getAllItemsOnPage(items, idForItem) : [...selectedItems];\n\n    if (sortOrder !== undefined) {\n      setLastSelected(sortOrder);\n    }\n\n    const lastSelectedFromState = lastSelected;\n    let selectedIds = [id];\n\n    if (shiftKey && lastSelectedFromState != null && sortOrder !== undefined && resolveItemId) {\n      selectedIds = handleMultiSelectionChange(lastSelectedFromState, sortOrder, resolveItemId);\n    }\n\n    newlySelectedItems = [...new Set([...newlySelectedItems, ...selectedIds])];\n\n    if (!selected) {\n      for (const selectedId of selectedIds) {\n        newlySelectedItems.splice(newlySelectedItems.indexOf(selectedId), 1);\n      }\n    }\n\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    }\n  };\n\n  const handleToggleAll = () => {\n    let newlySelectedItems;\n\n    if (Array.isArray(selectedItems) && selectedItems.length === items.length || selectedItems === SELECT_ALL_ITEMS) {\n      newlySelectedItems = [];\n    } else {\n      newlySelectedItems = items.map((item, index) => {\n        return idForItem(item, index);\n      });\n    }\n\n    if (newlySelectedItems.length === 0 && !isBreakpointsXS()) {\n      handleSelectMode(false);\n    } else if (newlySelectedItems.length > 0) {\n      handleSelectMode(true);\n    }\n\n    if (onSelectionChange) {\n      onSelectionChange(newlySelectedItems);\n    } // setTimeout ensures execution after the Transition on BulkActions\n\n\n    setTimeout(() => {\n      var _checkableButtonRef$c;\n\n      checkableButtonRef === null || checkableButtonRef === void 0 ? void 0 : (_checkableButtonRef$c = checkableButtonRef.current) === null || _checkableButtonRef$c === void 0 ? void 0 : _checkableButtonRef$c.focus();\n    }, 0);\n  };\n\n  const selectAllActionsMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SelectAllActionsWrapper\n  }, /*#__PURE__*/React.createElement(SelectAllActions, {\n    label: selectAllActionsLabel(),\n    accessibilityLabel: selectAllActionsAccessibilityLabel(),\n    selected: selectAllSelectState(),\n    onToggleAll: handleToggleAll,\n    selectMode: selectMode,\n    paginatedSelectAllAction: paginatedSelectAllAction(),\n    paginatedSelectAllText: paginatedSelectAllText(),\n    disabled: loading,\n    ref: checkableButtonRef\n  })) : null;\n  const bulkActionClassNames = classNames(styles.BulkActionsWrapper, isBulkActionsSticky && styles.BulkActionsWrapperSticky);\n  const bulkActionsMarkup = isSelectable && selectMode ? /*#__PURE__*/React.createElement(\"div\", {\n    className: bulkActionClassNames,\n    style: {\n      top: isBulkActionsSticky ? undefined : bulkActionsAbsoluteOffset,\n      width: bulkActionsMaxWidth,\n      left: isBulkActionsSticky ? bulkActionsOffsetLeft : undefined\n    }\n  }, /*#__PURE__*/React.createElement(BulkActions, {\n    selectMode: selectMode,\n    onSelectModeToggle: handleSelectMode,\n    promotedActions: promotedBulkActions,\n    actions: bulkActions,\n    disabled: loading,\n    isSticky: isBulkActionsSticky,\n    width: bulkActionsMaxWidth\n  })) : null;\n  const filterControlMarkup = filterControl ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.FiltersWrapper\n  }, filterControl) : null;\n  const sortingSelectMarkup = sortOptions && sortOptions.length > 0 && !alternateTool ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SortWrapper\n  }, /*#__PURE__*/React.createElement(Select, {\n    label: i18n.translate('Polaris.ResourceList.sortingLabel'),\n    labelInline: !smallScreen,\n    labelHidden: smallScreen,\n    options: sortOptions,\n    onChange: onSortChange,\n    value: sortValue,\n    disabled: selectMode\n  })) : null;\n  const alternateToolMarkup = alternateTool && !sortingSelectMarkup ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.AlternateToolWrapper\n  }, alternateTool) : null;\n  const headerTitleMarkup = /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderTitleWrapper\n  }, headerTitle());\n  const selectButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.SelectButtonWrapper\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: selectMode,\n    icon: EnableSelectionMinor,\n    onClick: () => handleSelectMode(true)\n  }, i18n.translate('Polaris.ResourceList.selectButtonText'))) : null;\n  const checkableButtonMarkup = isSelectable ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.CheckableButtonWrapper\n  }, /*#__PURE__*/React.createElement(CheckableButton, {\n    accessibilityLabel: selectAllActionsAccessibilityLabel(),\n    label: headerTitle(),\n    onToggleAll: handleToggleAll,\n    disabled: loading,\n    ref: checkableButtonRef\n  })) : null;\n  const needsHeader = isSelectable || sortOptions && sortOptions.length > 0 || alternateTool;\n  const headerWrapperOverlay = loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['HeaderWrapper-overlay']\n  }) : null;\n  const showEmptyState = emptyState && !itemsExist && !loading;\n  const showEmptySearchState = !showEmptyState && filterControl && !itemsExist && !loading;\n  const headerMarkup = !showEmptyState && showHeader !== false && !showEmptySearchState && (showHeader || needsHeader) && listRef.current && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.HeaderOuterWrapper\n  }, /*#__PURE__*/React.createElement(Sticky, {\n    boundingElement: listRef.current\n  }, isSticky => {\n    const headerClassName = classNames(styles.HeaderWrapper, sortOptions && sortOptions.length > 0 && !alternateTool && styles['HeaderWrapper-hasSort'], alternateTool && styles['HeaderWrapper-hasAlternateTool'], isSelectable && styles['HeaderWrapper-hasSelect'], loading && styles['HeaderWrapper-disabled'], isSelectable && selectMode && styles['HeaderWrapper-inSelectMode'], isSticky && styles['HeaderWrapper-isSticky']);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: headerClassName\n    }, headerWrapperOverlay, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.HeaderContentWrapper\n    }, headerTitleMarkup, checkableButtonMarkup, alternateToolMarkup, sortingSelectMarkup, selectButtonMarkup), selectAllActionsMarkup);\n  }), bulkActionsMarkup);\n  const emptySearchStateMarkup = showEmptySearchState ? emptySearchState || /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.EmptySearchResultWrapper\n  }, /*#__PURE__*/React.createElement(EmptySearchResult, Object.assign({}, emptySearchResultText, {\n    withIllustration: true\n  }))) : null;\n  const emptyStateMarkup = showEmptyState ? emptyState : null;\n  const defaultTopPadding = 8;\n  const topPadding = loadingPosition > 0 ? loadingPosition : defaultTopPadding;\n  const spinnerStyle = {\n    paddingTop: `${topPadding}px`\n  };\n  const spinnerSize = items.length < 2 ? 'small' : 'large';\n  const loadingOverlay = loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.SpinnerContainer,\n    style: spinnerStyle\n  }, /*#__PURE__*/React.createElement(Spinner, {\n    size: spinnerSize,\n    accessibilityLabel: \"Items are loading\"\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.LoadingOverlay\n  })) : null;\n  const className = classNames(styles.ItemWrapper, loading && styles['ItemWrapper-isLoading']);\n  const loadingWithoutItemsMarkup = loading && !itemsExist ? /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    tabIndex: -1\n  }, loadingOverlay) : null;\n  const resourceListClassName = classNames(styles.ResourceList, loading && styles.disabledPointerEvents, selectMode && styles.disableTextSelection);\n  const listMarkup = itemsExist ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: resourceListClassName,\n    ref: listRef,\n    \"aria-live\": \"polite\",\n    \"aria-busy\": loading\n  }, loadingOverlay, Children.toArray(items.map(renderItemWithId))) : null; // This is probably a legit error but I don't have the time to refactor this\n  // eslint-disable-next-line react/jsx-no-constructed-context-values\n\n  const context = {\n    selectable: isSelectable,\n    selectedItems,\n    selectMode,\n    resourceName,\n    loading,\n    onSelectionChange: handleSelectionChange\n  };\n  const resourceListWrapperClasses = classNames(styles.ResourceListWrapper, Boolean(bulkActionsMarkup) && selectMode && styles.ResourceListWrapperWithBulkActions);\n  return /*#__PURE__*/React.createElement(ResourceListContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(EventListener, {\n    event: \"resize\",\n    handler: handleResize\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: resourceListWrapperClasses,\n    ref: tableMeasurerRef\n  }, filterControlMarkup, headerMarkup, listMarkup, emptySearchStateMarkup, emptyStateMarkup, loadingWithoutItemsMarkup), /*#__PURE__*/React.createElement(\"div\", {\n    ref: bulkActionsIntersectionRef\n  }));\n};\nResourceList.Item = ResourceItem;\n\nexport { ResourceList };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}