{"ast":null,"code":"import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { findFirstFocusableNode } from '../../utilities/focus.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Tooltip.scss.js';\nimport { TooltipOverlay } from './components/TooltipOverlay/TooltipOverlay.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { Portal } from '../Portal/Portal.js';\nfunction Tooltip(_ref) {\n  let {\n    children,\n    content,\n    dismissOnMouseOut,\n    active: originalActive,\n    hoverDelay,\n    preferredPosition = 'below',\n    activatorWrapper = 'span',\n    accessibilityLabel,\n    width = 'default',\n    padding = 'default',\n    borderRadius = '1',\n    zIndexOverride,\n    onOpen,\n    onClose\n  } = _ref;\n  const WrapperComponent = activatorWrapper;\n  const {\n    value: active,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle(Boolean(originalActive));\n  const [activatorNode, setActivatorNode] = useState(null);\n  const id = useUniqueId('TooltipContent');\n  const activatorContainer = useRef(null);\n  const mouseEntered = useRef(false);\n  const hoverDelayTimeout = useRef(null);\n  useEffect(() => {\n    const firstFocusable = activatorContainer.current ? findFirstFocusableNode(activatorContainer.current) : null;\n    const accessibilityNode = firstFocusable || activatorContainer.current;\n    if (!accessibilityNode) return;\n    accessibilityNode.tabIndex = 0;\n    accessibilityNode.setAttribute('aria-describedby', id);\n    accessibilityNode.setAttribute('data-polaris-tooltip-activator', 'true');\n  }, [id, children]);\n  useEffect(() => {\n    return () => {\n      if (hoverDelayTimeout.current) {\n        clearTimeout(hoverDelayTimeout.current);\n      }\n    };\n  }, []);\n  const handleKeyUp = useCallback(event => {\n    if (event.key !== 'Escape') return;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    handleBlur();\n  }, [handleBlur, onClose]);\n  const portal = activatorNode ? /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"tooltip\"\n  }, /*#__PURE__*/React.createElement(TooltipOverlay, {\n    id: id,\n    preferredPosition: preferredPosition,\n    activator: activatorNode,\n    active: active,\n    accessibilityLabel: accessibilityLabel,\n    onClose: noop,\n    preventInteraction: dismissOnMouseOut,\n    width: width,\n    padding: padding,\n    borderRadius: borderRadius,\n    zIndexOverride: zIndexOverride\n  }, content)) : null;\n  const wrapperClassNames = classNames(activatorWrapper === 'div' && styles.TooltipContainer);\n  return /*#__PURE__*/React.createElement(WrapperComponent, {\n    onFocus: () => {\n      onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n      handleFocus();\n    },\n    onBlur: () => {\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n      handleBlur();\n    },\n    onMouseLeave: handleMouseLeave,\n    onMouseOver: handleMouseEnterFix,\n    ref: setActivator,\n    onKeyUp: handleKeyUp,\n    className: wrapperClassNames\n  }, children, portal);\n  function setActivator(node) {\n    const activatorContainerRef = activatorContainer;\n    if (node == null) {\n      activatorContainerRef.current = null;\n      setActivatorNode(null);\n      return;\n    }\n    node.firstElementChild instanceof HTMLElement && setActivatorNode(node.firstElementChild);\n    activatorContainerRef.current = node;\n  }\n  function handleMouseEnter() {\n    mouseEntered.current = true;\n    if (hoverDelay) {\n      hoverDelayTimeout.current = setTimeout(() => {\n        onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n        handleFocus();\n      }, hoverDelay);\n    } else {\n      onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n      handleFocus();\n    }\n  }\n  function handleMouseLeave() {\n    if (hoverDelayTimeout.current) {\n      clearTimeout(hoverDelayTimeout.current);\n      hoverDelayTimeout.current = null;\n    }\n    mouseEntered.current = false;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    handleBlur();\n  } // https://github.com/facebook/react/issues/10109\n  // Mouseenter event not triggered when cursor moves from disabled button\n\n  function handleMouseEnterFix() {\n    !mouseEntered.current && handleMouseEnter();\n  }\n}\nfunction noop() {}\nexport { Tooltip };","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","findFirstFocusableNode","useToggle","classNames","styles","TooltipOverlay","useUniqueId","Portal","Tooltip","children","content","dismissOnMouseOut","active","originalActive","hoverDelay","preferredPosition","activatorWrapper","accessibilityLabel","width","padding","borderRadius","zIndexOverride","onOpen","onClose","WrapperComponent","value","setTrue","handleFocus","setFalse","handleBlur","Boolean","activatorNode","setActivatorNode","id","activatorContainer","mouseEntered","hoverDelayTimeout","firstFocusable","current","accessibilityNode","tabIndex","setAttribute","clearTimeout","handleKeyUp","event","key","portal","createElement","idPrefix","activator","noop","preventInteraction","wrapperClassNames","TooltipContainer","onFocus","onBlur","onMouseLeave","handleMouseLeave","onMouseOver","handleMouseEnterFix","ref","setActivator","onKeyUp","className","node","activatorContainerRef","firstElementChild","HTMLElement","handleMouseEnter","setTimeout"],"sources":["/home/cedcoss/Desktop/react_training/react-tricks/react-todo-app/node_modules/@shopify/polaris/build/esm/components/Tooltip/Tooltip.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { findFirstFocusableNode } from '../../utilities/focus.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Tooltip.scss.js';\nimport { TooltipOverlay } from './components/TooltipOverlay/TooltipOverlay.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { Portal } from '../Portal/Portal.js';\n\nfunction Tooltip({\n  children,\n  content,\n  dismissOnMouseOut,\n  active: originalActive,\n  hoverDelay,\n  preferredPosition = 'below',\n  activatorWrapper = 'span',\n  accessibilityLabel,\n  width = 'default',\n  padding = 'default',\n  borderRadius = '1',\n  zIndexOverride,\n  onOpen,\n  onClose\n}) {\n  const WrapperComponent = activatorWrapper;\n  const {\n    value: active,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle(Boolean(originalActive));\n  const [activatorNode, setActivatorNode] = useState(null);\n  const id = useUniqueId('TooltipContent');\n  const activatorContainer = useRef(null);\n  const mouseEntered = useRef(false);\n  const hoverDelayTimeout = useRef(null);\n  useEffect(() => {\n    const firstFocusable = activatorContainer.current ? findFirstFocusableNode(activatorContainer.current) : null;\n    const accessibilityNode = firstFocusable || activatorContainer.current;\n    if (!accessibilityNode) return;\n    accessibilityNode.tabIndex = 0;\n    accessibilityNode.setAttribute('aria-describedby', id);\n    accessibilityNode.setAttribute('data-polaris-tooltip-activator', 'true');\n  }, [id, children]);\n  useEffect(() => {\n    return () => {\n      if (hoverDelayTimeout.current) {\n        clearTimeout(hoverDelayTimeout.current);\n      }\n    };\n  }, []);\n  const handleKeyUp = useCallback(event => {\n    if (event.key !== 'Escape') return;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    handleBlur();\n  }, [handleBlur, onClose]);\n  const portal = activatorNode ? /*#__PURE__*/React.createElement(Portal, {\n    idPrefix: \"tooltip\"\n  }, /*#__PURE__*/React.createElement(TooltipOverlay, {\n    id: id,\n    preferredPosition: preferredPosition,\n    activator: activatorNode,\n    active: active,\n    accessibilityLabel: accessibilityLabel,\n    onClose: noop,\n    preventInteraction: dismissOnMouseOut,\n    width: width,\n    padding: padding,\n    borderRadius: borderRadius,\n    zIndexOverride: zIndexOverride\n  }, content)) : null;\n  const wrapperClassNames = classNames(activatorWrapper === 'div' && styles.TooltipContainer);\n  return /*#__PURE__*/React.createElement(WrapperComponent, {\n    onFocus: () => {\n      onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n      handleFocus();\n    },\n    onBlur: () => {\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n      handleBlur();\n    },\n    onMouseLeave: handleMouseLeave,\n    onMouseOver: handleMouseEnterFix,\n    ref: setActivator,\n    onKeyUp: handleKeyUp,\n    className: wrapperClassNames\n  }, children, portal);\n\n  function setActivator(node) {\n    const activatorContainerRef = activatorContainer;\n\n    if (node == null) {\n      activatorContainerRef.current = null;\n      setActivatorNode(null);\n      return;\n    }\n\n    node.firstElementChild instanceof HTMLElement && setActivatorNode(node.firstElementChild);\n    activatorContainerRef.current = node;\n  }\n\n  function handleMouseEnter() {\n    mouseEntered.current = true;\n\n    if (hoverDelay) {\n      hoverDelayTimeout.current = setTimeout(() => {\n        onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n        handleFocus();\n      }, hoverDelay);\n    } else {\n      onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n      handleFocus();\n    }\n  }\n\n  function handleMouseLeave() {\n    if (hoverDelayTimeout.current) {\n      clearTimeout(hoverDelayTimeout.current);\n      hoverDelayTimeout.current = null;\n    }\n\n    mouseEntered.current = false;\n    onClose === null || onClose === void 0 ? void 0 : onClose();\n    handleBlur();\n  } // https://github.com/facebook/react/issues/10109\n  // Mouseenter event not triggered when cursor moves from disabled button\n\n\n  function handleMouseEnterFix() {\n    !mouseEntered.current && handleMouseEnter();\n  }\n}\n\nfunction noop() {}\n\nexport { Tooltip };\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,sBAAsB,QAAQ,0BAA0B;AACjE,SAASC,SAAS,QAAQ,+BAA+B;AACzD,SAASC,UAAU,QAAQ,wBAAwB;AACnD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,cAAc,QAAQ,+CAA+C;AAC9E,SAASC,WAAW,QAAQ,oCAAoC;AAChE,SAASC,MAAM,QAAQ,qBAAqB;AAE5C,SAASC,OAAO,OAeb;EAAA,IAfc;IACfC,QAAQ;IACRC,OAAO;IACPC,iBAAiB;IACjBC,MAAM,EAAEC,cAAc;IACtBC,UAAU;IACVC,iBAAiB,GAAG,OAAO;IAC3BC,gBAAgB,GAAG,MAAM;IACzBC,kBAAkB;IAClBC,KAAK,GAAG,SAAS;IACjBC,OAAO,GAAG,SAAS;IACnBC,YAAY,GAAG,GAAG;IAClBC,cAAc;IACdC,MAAM;IACNC;EACF,CAAC;EACC,MAAMC,gBAAgB,GAAGR,gBAAgB;EACzC,MAAM;IACJS,KAAK,EAAEb,MAAM;IACbc,OAAO,EAAEC,WAAW;IACpBC,QAAQ,EAAEC;EACZ,CAAC,GAAG3B,SAAS,CAAC4B,OAAO,CAACjB,cAAc,CAAC,CAAC;EACtC,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAMoC,EAAE,GAAG3B,WAAW,CAAC,gBAAgB,CAAC;EACxC,MAAM4B,kBAAkB,GAAGpC,MAAM,CAAC,IAAI,CAAC;EACvC,MAAMqC,YAAY,GAAGrC,MAAM,CAAC,KAAK,CAAC;EAClC,MAAMsC,iBAAiB,GAAGtC,MAAM,CAAC,IAAI,CAAC;EACtCC,SAAS,CAAC,MAAM;IACd,MAAMsC,cAAc,GAAGH,kBAAkB,CAACI,OAAO,GAAGrC,sBAAsB,CAACiC,kBAAkB,CAACI,OAAO,CAAC,GAAG,IAAI;IAC7G,MAAMC,iBAAiB,GAAGF,cAAc,IAAIH,kBAAkB,CAACI,OAAO;IACtE,IAAI,CAACC,iBAAiB,EAAE;IACxBA,iBAAiB,CAACC,QAAQ,GAAG,CAAC;IAC9BD,iBAAiB,CAACE,YAAY,CAAC,kBAAkB,EAAER,EAAE,CAAC;IACtDM,iBAAiB,CAACE,YAAY,CAAC,gCAAgC,EAAE,MAAM,CAAC;EAC1E,CAAC,EAAE,CAACR,EAAE,EAAExB,QAAQ,CAAC,CAAC;EAClBV,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IAAIqC,iBAAiB,CAACE,OAAO,EAAE;QAC7BI,YAAY,CAACN,iBAAiB,CAACE,OAAO,CAAC;MACzC;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,MAAMK,WAAW,GAAG3C,WAAW,CAAC4C,KAAK,IAAI;IACvC,IAAIA,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;IAC5BtB,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,EAAE;IAC3DM,UAAU,EAAE;EACd,CAAC,EAAE,CAACA,UAAU,EAAEN,OAAO,CAAC,CAAC;EACzB,MAAMuB,MAAM,GAAGf,aAAa,GAAG,aAAanC,KAAK,CAACmD,aAAa,CAACxC,MAAM,EAAE;IACtEyC,QAAQ,EAAE;EACZ,CAAC,EAAE,aAAapD,KAAK,CAACmD,aAAa,CAAC1C,cAAc,EAAE;IAClD4B,EAAE,EAAEA,EAAE;IACNlB,iBAAiB,EAAEA,iBAAiB;IACpCkC,SAAS,EAAElB,aAAa;IACxBnB,MAAM,EAAEA,MAAM;IACdK,kBAAkB,EAAEA,kBAAkB;IACtCM,OAAO,EAAE2B,IAAI;IACbC,kBAAkB,EAAExC,iBAAiB;IACrCO,KAAK,EAAEA,KAAK;IACZC,OAAO,EAAEA,OAAO;IAChBC,YAAY,EAAEA,YAAY;IAC1BC,cAAc,EAAEA;EAClB,CAAC,EAAEX,OAAO,CAAC,CAAC,GAAG,IAAI;EACnB,MAAM0C,iBAAiB,GAAGjD,UAAU,CAACa,gBAAgB,KAAK,KAAK,IAAIZ,MAAM,CAACiD,gBAAgB,CAAC;EAC3F,OAAO,aAAazD,KAAK,CAACmD,aAAa,CAACvB,gBAAgB,EAAE;IACxD8B,OAAO,EAAE,MAAM;MACbhC,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,EAAE;MACxDK,WAAW,EAAE;IACf,CAAC;IACD4B,MAAM,EAAE,MAAM;MACZhC,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,EAAE;MAC3DM,UAAU,EAAE;IACd,CAAC;IACD2B,YAAY,EAAEC,gBAAgB;IAC9BC,WAAW,EAAEC,mBAAmB;IAChCC,GAAG,EAAEC,YAAY;IACjBC,OAAO,EAAEnB,WAAW;IACpBoB,SAAS,EAAEX;EACb,CAAC,EAAE3C,QAAQ,EAAEqC,MAAM,CAAC;EAEpB,SAASe,YAAY,CAACG,IAAI,EAAE;IAC1B,MAAMC,qBAAqB,GAAG/B,kBAAkB;IAEhD,IAAI8B,IAAI,IAAI,IAAI,EAAE;MAChBC,qBAAqB,CAAC3B,OAAO,GAAG,IAAI;MACpCN,gBAAgB,CAAC,IAAI,CAAC;MACtB;IACF;IAEAgC,IAAI,CAACE,iBAAiB,YAAYC,WAAW,IAAInC,gBAAgB,CAACgC,IAAI,CAACE,iBAAiB,CAAC;IACzFD,qBAAqB,CAAC3B,OAAO,GAAG0B,IAAI;EACtC;EAEA,SAASI,gBAAgB,GAAG;IAC1BjC,YAAY,CAACG,OAAO,GAAG,IAAI;IAE3B,IAAIxB,UAAU,EAAE;MACdsB,iBAAiB,CAACE,OAAO,GAAG+B,UAAU,CAAC,MAAM;QAC3C/C,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,EAAE;QACxDK,WAAW,EAAE;MACf,CAAC,EAAEb,UAAU,CAAC;IAChB,CAAC,MAAM;MACLQ,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,EAAE;MACxDK,WAAW,EAAE;IACf;EACF;EAEA,SAAS8B,gBAAgB,GAAG;IAC1B,IAAIrB,iBAAiB,CAACE,OAAO,EAAE;MAC7BI,YAAY,CAACN,iBAAiB,CAACE,OAAO,CAAC;MACvCF,iBAAiB,CAACE,OAAO,GAAG,IAAI;IAClC;IAEAH,YAAY,CAACG,OAAO,GAAG,KAAK;IAC5Bf,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,EAAE;IAC3DM,UAAU,EAAE;EACd,CAAC,CAAC;EACF;;EAGA,SAAS8B,mBAAmB,GAAG;IAC7B,CAACxB,YAAY,CAACG,OAAO,IAAI8B,gBAAgB,EAAE;EAC7C;AACF;AAEA,SAASlB,IAAI,GAAG,CAAC;AAEjB,SAAS1C,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}